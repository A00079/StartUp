(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){e.exports=n(56)},31:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),s=n(22),r=n.n(s),a=(n(31),n(8)),c=n.n(a),u=n(10),l=n(23),f=(n(57),l.initializeApp({apiKey:"AIzaSyD-qHxuBR9FcFOe3TRKMezxPcKhvO-9PGI",authDomain:"vuefiretest-c6e3b.firebaseapp.com",databaseURL:"https://vuefiretest-c6e3b.firebaseio.com",projectId:"vuefiretest-c6e3b",storageBucket:"vuefiretest-c6e3b.appspot.com",messagingSenderId:"101818530234",appId:"1:101818530234:web:21b6469ad9466113898583",measurementId:"G-H311ERVSFJ"}).messaging());f.usePublicVapidKey("BC4RdoebnlaLgJQ1hnHOyRNcUj0w38wLENfJDmWf-h_8EBz7Pc9wLMH5wEM9AchMRgZBbNcYsxG_1bC17IiB9_g");var p=n(4),b={postUserdetails:function(e,t){var n=e;return this.requestPostCall("https://safebasket.herokuapp.com/"+n,t)},requestPostCall:function(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return e}))}},h=(n(38),function(e,t){return o.a.createElement("li",{key:t},e)}),m=Object(p.a)(Object(p.d)("token","setToken",""),Object(p.d)("notifications","setNotifications",[]),Object(p.c)({pushNotification:function(e){var t=e.setNotifications,n=e.notifications;return function(e){return t(n.concat(e))}}}),Object(p.b)({componentDidMount:function(){var e=this;return Object(u.a)(c.a.mark((function t(){var n,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,n.pushNotification,i=n.setToken,f.requestPermission().then(Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getToken();case 2:t=e.sent,n={token:t},"api/users/subscribe",b.postUserdetails("api/users/subscribe",n).then((function(e){console.log("Response Data...",e)})),i(t);case 7:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("Unable to get permission to notify.",e)}));case 2:case"end":return t.stop()}}),t)})))()}}))((function(e){var t=e.token,n=e.notifications;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"React + Firebase Cloud Messaging (Push Notifications)"),o.a.createElement("div",null,"Current token is: ",o.a.createElement("p",null,t)),o.a.createElement("ul",null,"Notifications List:",n.map(h)))}));"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)})),r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d1a92a5f.chunk.js.map